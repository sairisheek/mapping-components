<apex:page controller="breadwinner_qbo.OptionalSettingsController" showheader="false" sidebar="false">
    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        
        <head>
            <apex:stylesheet value="{!URLFOR($Resource.breadwinner_qbo__Breadwinner_QBO, 'Breadwinner_QBO/SLDS/assets/styles/salesforce-lightning-design-system-vf.min.css')}" ></apex:stylesheet>
            <script src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/JS/jquery-1.11.3.js')}" ></script>
            
            <script type="text/javascript">
                var j$ = jQuery.noConflict();
            var overflowtxt='';
            function HideStyleSheet(){
                j$("link.user[href$='elements.css']").each(function(){
                    j$(this).removeAttr("href");
                });
            }
            j$("body").click(function(event) {
                if (event.target.id != "dropdown") {
                    {
                        if(overflowtxt=='')
                        {
                            j$("li.slds-is-open").removeClass("Highlight");
                        }
                        j$("li.slds-is-open").removeClass("slds-is-open");
                    }}});
            
            function message()
            {
                j$(".infoM6, .infoM4, .infoM3, .infoM2, .infoS1").addClass("slds-notify slds-notify--alert slds-theme--inverse-text  slds-text-align--left slds-text-heading--small slds-m-bottom--small").css( {"font-weight":"500","line-height":"1.4","word-spacing":"1px"} );
                j$(".errorM6, .errorM4, .errorM3, .errorM2, .errorS1").addClass("slds-notify slds-notify--alert slds-theme--error  slds-text-align--left slds-text-heading--small slds-m-bottom--small").css( {"font-weight":"500","line-height":"1.4","word-spacing":"1px"} );
                j$(".warningM6, .warningM4, .warningM3, .warningM2, .warningS1").addClass("slds-notify slds-notify--alert slds-theme--warning  slds-text-align--left slds-text-heading--small slds-m-bottom--small").css( {"font-weight":"500","line-height":"1.4","word-spacing":"1px"} ) ;
                j$(".confirmM6, .confirmM4, .confirmM3, .confirmM2, .confirmS1").addClass("slds-notify slds-notify--alert slds-theme--success slds-text-align--left slds-text-heading--small slds-m-bottom--small").css( {"font-weight":"500","line-height":"1.4","word-spacing":"1px"} ) ;               
                
                j$("div .messageText h4").css( {"color": "white","padding-right" : "2px"});
                j$("div[class*='warning'] div.messageText h4").css( "color", "black" );
                j$("table.messageTable td").css({"color" : "white"});
                j$("div[class*='warning'] table.messageTable td").css( "color", "black" );
                j$("select option:contains('Select Revenue Account')").css( "color", "#aaa" );
                j$("select option:contains('Revenue Codes')").attr("disabled","disabled").css( {"color":"black","font-weight":"bold" });
                j$("select option:contains('Liabilities and Expenses')").attr("disabled","disabled").css( {"color":"black","font-weight":"bold" });
                 
            }
            
            function addLinkDynamically(){
                // adding links by identifying UX change the URLs
                var windowparentlocation=String(window.parent.location);
                var getindex=windowparentlocation.search("sfdcIFrameOrigin=");
                var resultedOpptyFieldsURL='{!$Site.BaseUrl}';
                var resultedOpptyProdFieldsURL='{!$Site.BaseUrl}';
                if(parseInt(getindex)>-1){
                    resultedOpptyFieldsURL+='/one/one.app?source=aloha#/setup/object/Opportunity/all/FieldsAndRelationships';
                    resultedOpptyProdFieldsURL+='/one/one.app?source=aloha#/setup/object/OpportunityLineItem/all/FieldsAndRelationships';
                }
                else{
                    resultedOpptyFieldsURL+='/p/setup/layout/LayoutFieldList?type=Opportunity&setupid=OpportunityFields';
                    resultedOpptyProdFieldsURL+='/p/setup/layout/LayoutFieldList?type=OpportunityLineItem&setupid=OpportunityLineItemFields';
                }
                //opptyFieldsLink
                document.getElementById("opptyFieldsLink").href=resultedOpptyFieldsURL;
                document.getElementById("opptytoProductsOpptyFieldsLink").href=resultedOpptyFieldsURL;
                //opptyProdFieldsLink
                document.getElementById("opptyProdFieldsLink").href=resultedOpptyProdFieldsURL;
            }
            j$(function(){
                HideStyleSheet();
                message();
                setContent();
                addLinkDynamically();
            });
            function getSaccountCodeMappingName(){     
                sendtoController(j$("[id$=accountCodeMapping]").find('option:selected').text());
            }
            </script>
            <script>
            var j$ = jQuery.noConflict();
            function identifyfield(elementt,helptext,TopMinusParam,LeftMinusParam){
                
                var x = j$(elementt).offset();
                //alert("Top position: " + x.top + " Left position: " + x.left+" height: "+$(elementt).height());                
                var ToSetleft=x.left-LeftMinusParam;                
                j$("#help p").text(helptext);                
                var ToSetheight=x.top-TopMinusParam;                
                var heptextdiv=document.getElementById("help");
                j$(heptextdiv).css({
                    top: ToSetheight + 'px',
                    left: ToSetleft + 'px',
                    display:""
                })
                
            }
            function mouseoutclose(){
                var heptextdiv=document.getElementById("help");
                j$(heptextdiv).css({top:"0px",left:"0px",display:"none"});
            }
            function selectTab(elmnt,orgidValue,text) { 
                
                // slds-active
                if(text=='overflow')
                {
                    j$(elmnt).parents("div.slds-dropdown").parent("li").siblings(".slds-active").removeClass("slds-active");
                    j$(elmnt).parents("div.slds-dropdown").find("li").addClass("slds-active");
                    overflowtxt=text;
                }
                else
                {
                    j$(elmnt).parent("li").siblings(".slds-active").removeClass("slds-active");
                    j$(elmnt).parent("li").addClass("slds-active");      
                    j$("#dropdown").find("li").removeClass("overflowactive");
                    j$("#dropdown").removeClass("Highlight");
                    overflowtxt='';
                }
                j$(elmnt).parent("li.slds-dropdown__item").siblings("li.overflowactive").removeClass("overflowactive");
                j$(elmnt).parent("li.slds-dropdown__item").addClass("overflowactive");   
                // tabindex
                j$(elmnt).parent("li").siblings().children("a").attr("tabindex", -1);
                j$(elmnt).attr("tabindex", 0);
                
                // aria-selected
                j$(elmnt).parent("li").siblings().children("a").attr("aria-selected", false);
                j$(elmnt).attr("aria-selected", true);
                
                // hiding previouly selected tab (slds-show/slds-hide)
                j$(elmnt).closest(".slds-tabs--default").children("div[role='tabpanel'].slds-show").addClass("slds-hide");
                j$(elmnt).closest(".slds-tabs--default").children("div[role='tabpanel'].slds-show").removeClass("slds-show");
                // displaying newly selected tab (slds-show/slds-hide)
                j$(elmnt).closest(".slds-tabs--default").children("div[aria-labelledby='"+elmnt.id+"']").addClass("slds-show");
                j$(elmnt).closest(".slds-tabs--default").children("div[aria-labelledby='"+elmnt.id+"']").removeClass("slds-hide");   
                changeValue(orgidValue);
                setContent();
                
            }           
            
            
            function selectTaboverflow(elmnt)
            {
                j$(elmnt).addClass("slds-dropdown-trigger slds-is-open Highlight");             
            }
            
            function showHideSectionConent(titledivsectionId, ImageDivId){
                var sectiondiv=document.getElementById(titledivsectionId);
                
                if(j$(sectiondiv).hasClass("slds-is-open")){
                    j$(sectiondiv).removeClass("slds-is-open");
                    j$("#"+ImageDivId).attr("src","{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/SectionClose.png')}");
                    j$("#"+ImageDivId).css({"margin-bottom":"3px", "margin-right":"4px", "width":"14px"});
                }
                else{
                    j$(sectiondiv).addClass("slds-is-open");
                    j$("#"+ImageDivId).attr("src","{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/SectionOpen.png')}");
                    j$("#"+ImageDivId).css({"margin-bottom":"0px", "margin-right":"3px", "width":"15px"});
                }
            }
            </script>
            <apex:outputpanel id="renderscript">
                
            <script>
            function setContent()
            {
                var e = document.getElementById('shipppingandCustomeFields'); 
                e.style.display= 'block';
                var e = document.getElementById('duedateandothersettings'); 
                e.style.display= 'block';
                var e = document.getElementById('TermsSection'); 
                e.style.display= 'block';
                if({!areInvoiceCustomTxnNumbersEnabled})
                {
                    var e = document.getElementById('TransactionSection'); 
                    e.style.display= 'block';
                }                   
                if({!isMultiOrg})
                {
                    
                }
                else{
                    j$( "div#SingleOrgSection" ).append(j$("#shipppingandCustomeFields"));
                    j$( "div#duedateandotherappend" ).append(j$("#duedateandothersettings"));
                    j$( "div#TermsSectionAppend" ).append(j$("#TermsSection"));
                    j$( "div#TransactionSectionAppend" ).append(j$("#TransactionSection"));
                }
            }
            
            function scrolltoTop()
            {
                window.scrollTo(0,0);
            }
            </script>
            </apex:outputpanel>
            <style>
                .msgIcon{
                    display:none;
                }
                .message{
                    margin:8px 6px;
                }
                .message .messageText {
                    margin: 0px;
                }
                .message .messageText h4 {
                    font-weight: inherit;
                    display: initial;
                }                                   
                .Highlight
                {
                    background-color:gainsboro;
                }
                .overflowactive
                {
                    border-bottom: 2px solid #0070D2;
                    background-color :gainsboro;
                } 
                .BreadwinnerLightning .slds-tabs--default__link:focus
                {
                    border-bottom-width: 0px;
                    border-color: grey ;
                    color:#54698d;
                }
                .BreadwinnerLightning .slds-section-title--divider
                {
                    text-transform:initial;
                }
                .BreadwinnerLightning .slds-button:focus {
                    box-shadow: none;        
                }
                .BreadwinnerLightning .slds-section__title-action:active, .BreadwinnerLightning .slds-section__title-action:focus, .BreadwinnerLightning .slds-section__title-action:hover {
                    background: #f4f6f9; 
                }
                .BreadwinnerLightning .slds-section.slds-is-open .slds-section__content {
                    padding-top: 0px;
                }               
                .BreadwinnerLightning .slds-spinner_container{
                    position: fixed;
                    z-index: 9999;
                }
                .BreadwinnerLightning .slds-section__title-action {
                    display: block;
                }
                .BreadwinnerLightning hr{
                    margin-top: 1rem;
                    margin-bottom: 1rem;
                }
            </style>
        </head>
        <body>
            <apex:form >
                <div class="BreadwinnerLightning">
                    <apex:actionStatus id="assign-action-status" layout="block">
                        <apex:facet name="start">
                            <div class="slds-spinner_container">
                                <div class="slds-spinner--brand slds-spinner slds-spinner--medium" role="alert">
                                    <span class="slds-assistive-text">Loading</span>
                                    <div class="slds-spinner__dot-a"></div>
                                    <div class="slds-spinner__dot-b"></div>
                                </div>
                            </div>
                        </apex:facet>
                    </apex:actionStatus>
                    <apex:actionStatus id="RevenueAccountCode-action-status" layout="block">
                        <apex:facet name="start">
                            <div class="slds-spinner_container">
                                <div class="slds-container--fluid slds-spinner--medium">                        
                                    <div style="height:80px;width:80px;margin-top:20%;" class="slds-align--absolute-center">
                                        <img src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/SLDS/assets/images/spinners/slds_spinner_brand.gif')}" alt="" />           
                                    </div>
                                </div>
                                <div class="slds-container--fluid slds-m-top--large">
                                    <div class="slds-grid slds-grid--align-center slds-text-heading--small">
                                        Refreshing Default QuickBooks Online Accounting code      
                                    </div>
                                </div>
                            </div>
    
                        </apex:facet>
                    </apex:actionStatus>                    
                    <!-- -----------------------------Configuration Tab header start ---------------------------->
                    <div class="slds-page-header" role="banner">
                        <div class="slds-media">
                            <div class="slds-media__figure">
                                <svg aria-hidden="true" class="slds-icon slds-icon-standard-opportunity">
                                    <use xlink:href="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/SLDS/assets/icons/standard-sprite/svg/symbols.svg#custom')}"></use>
                                </svg>
                            </div>
                            <div class="slds-media__body">
                                <p class="slds-page-header__title slds-truncate" title="Invoice Configuration">Invoice Configuration</p>
                                <p class="slds-text-body--small">Breadwinner â€¢ QuickBooks Online </p>
                            </div>
                        </div>
                    </div>
                    <!-- -----------------------------Configuration Tab header END ---------------------------->
                    
                    <!-- ----------------------------------- fields level help ---------------------------------- -->
                    <div id="help"  class="slds-popover slds-popover--tooltip slds-nubbin--bottom-left" role="tooltip" aria-live="polite" style="display:none;position:absolute;top:0px;left:0px;">
                        <div class="slds-popover__body slds-text-longform">
                            <p>Help text will come here dynamically</p>
                        </div>
                    </div>
                    <!-- ----------------------------------- fields level help ---------------------------------- -->
                    
                    
                    
                    <!--Multi-org-->
                    <apex:pageMessages rendered="{!initialized==false}"></apex:pageMessages>
                    <div class="slds-tabs--default  slds-m-top--medium" style="display:{!IF(initialized,'','none')}">
                        <ul class="slds-tabs--default__nav" style="display:{!IF(isMultiOrg,'','none')}" role="tablist">
                            <li class="slds-tabs--default__item slds-text-heading--label slds-truncate slds-active" style='' title="Breadwinner-Wide" role="presentation">
                                <a class="slds-tabs--default__link slds-truncate" href="javascript:void(0);" role="tab" tabindex="0" aria-selected="true" aria-controls="tab-default-1" id="tab-default-1__item" onclick="selectTab(this,{!appC.QBO_Org_ID__c},null);">
                                    Breadwinner Wide Settings  
                                </a>
                            </li>
                            <apex:variable value="{!2}" var="i">
                                <apex:repeat value="{!listAppConfig}" var="a">                           
                                    <li class="slds-tabs--default__item slds-text-heading--label slds-truncate" title="{!a.Connecting_App_Name__c}" role="presentation" style="display:{!IF(i<=3,'block','none')}">
                                        <a class="slds-tabs--default__link " href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-2" id="tab-default-2__item"  onclick="selectTab(this,{!a.QBO_Org_ID__c},null);">
                                            {!a.Connecting_App_Name__c} 
                                        </a>
                                    </li> 
                                    <apex:variable value="{!i+1}" var="i"/>
                                </apex:repeat>
                            </apex:variable> 
                            <li class="slds-dropdown-trigger--click slds-tabs--default__item slds-tabs__item--overflow slds-text-title--caps" 
                                title="Other Orgs" role="presentation"  style="display:{!IF(initialized&&(listAppConfig.size>2),'block','none')}" onclick="selectTaboverflow(this,null,null);"   id="dropdown" >
                                <a class="slds-tabs--default__link" href="javascript:void(0);" aria-haspopup="true" id="dropdown">
                                    <span  id='dropdown'>More
                                        <span class="slds-assistive-text">tabs</span>
                                    </span>
                                    <svg id="dropdown" aria-hidden="true" class="slds-button__icon slds-button__icon--x-small">
                                        <use xlink:href="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down')}"></use>
                                    </svg>
                                </a>
                                
                                <div class="slds-dropdown slds-dropdown--right" id="droping">
                                    
                                    <ul class="slds-dropdown__list slds-dropdown--length-with-icon-2" role="menu" style="border:red;">                                     
                                        <apex:variable value="{!2}" var="i">
                                            <apex:repeat value="{!listAppConfig}" var="a"> 
                                                <li class="slds-dropdown__item" role="presentation" title="{!a.Connecting_App_Name__c}"  id="dropdownitem">
                                                    <a class="slds-tabs--default__link " href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-2" id="tab-default-2__item" style="display:{!IF(i>3,'block','none')}"   onclick="selectTab(this,{!a.QBO_Org_ID__c},'overflow');">
                                                        <div>{!a.Connecting_App_Name__c} </div>
                                                    </a>
                                                </li>
                                                <apex:variable value="{!i+1}" var="i"/>
                                                
                                            </apex:repeat>
                                        </apex:variable>
                                        
                                        
                                    </ul>                                                                     
                                </div>
                            </li>
                            <apex:actionFunction name="changeValue" action="{!initializeCustomSettings}" reRender="Oathissuemsg,Pgmsg,globalsettingspanel,SettingsSection,SettingSectionPanel,renderscript" status="status" oncomplete="HideStyleSheet(); message(); setContent();addLinkDynamically();">
                                <apex:param name="orgID" value="" assignTo="{!qboOrgId}"/>
                            </apex:actionFunction>
                            <apex:actionStatus id="status">  
                                <apex:facet name="start">
                                    <div class="slds-spinner_container">
                                        <div class="slds-spinner--brand slds-spinner slds-spinner--medium" role="alert">
                                            <span class="slds-assistive-text">Loading</span>
                                            <div class="slds-spinner__dot-a"></div>
                                            <div class="slds-spinner__dot-b"></div>
                                        </div>
                                    </div>
                                </apex:facet>
                            </apex:actionStatus>
                        </ul>
                        <apex:outputPanel layout="block" id="Oathissuemsg">
                            <apex:pageMessage rendered="{!isOAuthIssue}" severity="WARNING" strength="2" summary="<b>There was a problem establishing a connection to QuickBooks Online:</b>" escape="false" >
                                There was a problem establishing a connection with QuickBooks Online Company "{!appC.Connecting_App_Name__c}". If you are a QuickBooks Online Admin please reconnect to QuickBooks Online now, or ask someone who is a Salesforce Admin and QuickBooks Online Admin to click&nbsp; 
                                <apex:outputLink style="color: black" value="{!bwSetting.breadwinner_qbo__Endpoint_URL_Override__c}/api/qbo/pre_auth/{!$Organization.Id}?app_type={!IF(CONTAINS(appC.breadwinner_qbo__Connecting_App_Name__c, 'Sandbox Company'), 'sandbox', 'production')}&callbackurl={!URLENCODE(URLFOR($Page.breadwinner_qbo__CompleteAuth))}" target="_blank" rendered="{!NOT(OR($User.UIThemeDisplayed == 'Theme4d', $User.UIThemeDisplayed == 'Theme4t'))}" >Reconnect with QuickBooks Online</apex:outputLink>
                                <apex:outputLink style="color: black" value="{!bwSetting.breadwinner_qbo__Endpoint_URL_Override__c}/api/qbo/pre_auth/{!$Organization.Id}?app_type={!IF(CONTAINS(appC.breadwinner_qbo__Connecting_App_Name__c, 'Sandbox Company'), 'sandbox', 'production')}&callbackurl={!URLENCODE(URLFOR($Page.breadwinner_qbo__CompleteAuth))}" rendered="{!(OR($User.UIThemeDisplayed == 'Theme4d', $User.UIThemeDisplayed == 'Theme4t'))}">Reconnect with QuickBooks Online</apex:outputLink>
                            </apex:pageMessage>
                        </apex:outputPanel>
                        <apex:pageMessages id="Pgmsg"></apex:pageMessages>
                        
                        <div id="tab-default-1" class="slds-m-horizontal--small {!IF(isMultiOrg,'slds-tabs--default__content','')} slds-show" role="tabpanel" aria-labelledby="tab-default-1__item" >                            
                            <apex:outputPanel id="globalsettingspanel" >
                                <apex:outputPanel layout="block" rendered="{!AND(initialized,isAllowedToChangeOptionalSettings)}">
                                    
                                    <div id="duedateandotherappend"/>
                                      <apex:actionFunction name="refreshRevenueAccounts" action="{!getAccountsFromQBO}"  reRender="accountCodeMapping" status="RevenueAccountCode-action-status" oncomplete="message();"/>
                                    <apex:outputPanel layout="block" rendered="{!useAccountownerasInvoiceOwner}">
                                        <h3 class="slds-section-title--divider slds-m-top--medium">Sharing Settings </h3>
                                        <div class="slds-text-body--small  slds-m-horizontal--small"> 
                                            <label class="slds-checkbox slds-m-top--small">
                                                <span class="slds-form-element__label">
                                                    Use Account Owner as Invoice Owner
                                                </span>
                                                <apex:inputCheckbox value="{!useAccountOwnerforOpportunityOwner }"  /> 
                                                <span class="slds-checkbox--faux"></span>
                                            </label>
                                        </div>
                                    </apex:outputPanel>
                                    <apex:outputPanel layout="block" >
                                        <h3 class="slds-section-title--divider  slds-m-top--medium">Opportunity Rollups</h3>
                                        <div class='slds-m-horizontal--small slds-m-top--small'>
                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                    <div class="slds-form-element">
                                                        <label class="slds-form-element__label" > Opportunity Rollups to be either Gross or Net</label>
                                                        <div class="slds-form-element__control">
                                                            <apex:selectList value="{!opportunityRollupType }" styleClass="slds-input" size="1">
                                                                <apex:selectOption itemLabel="Net (Sub-Total)" itemValue="Net">  </apex:selectOption> 
                                                                <apex:selectOption itemLabel="Gross (Invoice-Total)" itemValue="Gross">  </apex:selectOption>
                                                                <apex:selectOption itemLabel="Do Not Calculate Rollups" itemValue="DoNotCalculateRollups">  </apex:selectOption>
                                                                <apex:actionSupport event="onchange" reRender="noteOptyRollups" status="status"/>
                                                            </apex:selectList>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <apex:outputPanel id="noteOptyRollups"  ><div style="display:{!IF(opportunityRollupType='DoNotCalculateRollups','','none')}" class="slds-m-left--medium slds-m-top--xx-small slds-text-body--small">When Opportunity Rollup type is selected as <q>Do Not Calculate Rollups</q>, Breadwinner doesn't try to update your opportunities, which might already have values in them, so you can remove them from Opportunity page layouts as they are no longer accurate.</div> </apex:outputPanel>
                                    </apex:outputPanel>
                                    <apex:outputPanel layout="block"  rendered="{!AND(IsAllowedToMapInvoiceFields,planCode>=35)}">
                                        
                                        <h3 class="slds-section-title--divider slds-m-top--medium slds-text-title--caps" style="text-transform: uppercase;">Invoice Fields
                                            <apex:outputPanel styleClass="slds-m-left--small slds-form-element__icon" rendered="{!trialOrg}">
                                                <a href="javascript:void(0);" onmouseover="identifyfield(this,'These features are only accessible at Breadwinner Professional and up, and are also shown during your free trial. If you subscribe at the Basic level, this page will no longer be accessible.','100','12')" onmouseout="mouseoutclose();">
                                                    <img style="margin-left: 5px;margin-bottom: 4px;height:15px;width:15px;" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/InfoLightning.png')}"/><span class="slds-assistive-text">Help</span>
                                                </a>
                                            </apex:outputPanel>
                                        </h3>
                                        <div class="slds-text-body--small slds-m-top--small slds-m-horizontal--small">
                                            Invoice Fields are populated from the Opportunity object. Please select a field or a formula field below. This only affects invoices created from Opportunities.
                                        </div>
                                        <div class="slds-text-body--small slds-m-top--small slds-m-horizontal--small" style="font-style: italic;">
                                            Note: All mapped fields must be on the <a id="opptyFieldsLink" href="javascript:void(0);" target="_blank" style="color: #16325c;text-decoration: underline;">Opportunity</a>. If you wish to map data on an object other than the Opportunity, please create a formula field on the Opportunity to pull in the data.
                                        </div>
                                        <div class="slds-grid slds-wrap slds-m-horizontal--small">
                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                    <div class="slds-form-element">
                                                        <label class="slds-form-element__label" >Invoice Date</label>
                                                        <div class="slds-form-element__control">
                                                            <apex:selectList value="{!selectedFieldForInvoiceDate}" styleClass="slds-input" size="1">
                                                            	<apex:selectOption itemvalue="" itemLabel="--Current Date--"/>
                                                                <apex:selectOptions value="{!invoiceDateFields}"/>    
                                                            </apex:selectList>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                    <div class="slds-form-element">
                                                        <label class="slds-form-element__label" >Invoice Due Date</label>
                                                        <div class="slds-form-element__control">
                                                            <apex:selectList value="{!selectedFieldForInvoiceDueDate}" styleClass="slds-input" size="1">
                                                           		<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                <apex:selectOptions value="{!dateFields}"/>    
                                                            </apex:selectList>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div   id="TermsSectionAppend" class="slds-m-top--medium"/>
                                            </div>
                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                    <div class="slds-form-element">
                                                        <label class="slds-form-element__label" >Message Displayed on Invoice</label>
                                                        <div class="slds-form-element__control">
                                                            <apex:selectList value="{!selectedFieldForInvoiceMessageDisplayed}" styleClass="slds-input" size="1">
                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                <apex:selectOptions value="{!textFields}"/>    
                                                            </apex:selectList>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                    <div class="slds-form-element">
                                                        <label class="slds-form-element__label" >Invoice Statement Memo</label>
                                                        <div class="slds-form-element__control">
                                                            <apex:selectList value="{!selectedFieldForInvoiceStatementMemo}" styleClass="slds-input" size="1">
                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                <apex:selectOptions value="{!textFields}"/>    
                                                            </apex:selectList>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="TransactionSectionAppend" class="slds-m-top--medium"/>
                                            </div>
                                            <div class="slds-text-body--small slds-m-top--small"> 
                                                Is the field you are looking for missing? It might be a Lookup field. Breadwinner cannot easily access lookup fields, however, you can create a simple cross-object formula field on Opportunity and use that field for mapping, the formula for that filed can be "Custom_Lookup__r.Name" (or StandardLookup.Name)
                                            </div> 
                                        </div>
                                        
                                        <div id="SingleOrgSection"></div>
                                        
                                        <!-- ------------------------ invoice line item mapping start --------------------------------------------------------------------------- -->
                                        <apex:outputPanel layout="block" rendered="{!canMapLineItems}" >
                                            <h3 class="slds-section-title--divider slds-m-top--medium  " style="text-transform: uppercase;">
                                                Invoice Line Item Fields                                    
                                            </h3>
                                            <div class="slds-text-body--small slds-m-top--small slds-m-horizontal--small">
                                                Invoice Line Item Fields are populated from the Opportunity line item object. Please select a field or a formula field below. This only affects invoices created from Opportunities.
                                            </div>
                                            <div class="slds-text-body--small slds-m-top--small slds-m-horizontal--small" style="font-style: italic;">
                                                Note: All mapped fields must be on the <a id="opptyProdFieldsLink" href="javascript:void(0);" target="_blank" style="color: #16325c;text-decoration: underline;">Opportunity Product</a>. If you wish to map data on an object other than the Opportunity Product, please create a formula field on the Opportunity Product to pull in the data.
                                            </div>
                                            <div class="slds-grid slds-wrap slds-m-horizontal--small">
                                                <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                    <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                        <div class="slds-form-element">
                                                            <label class="slds-form-element__label" >Product/Service</label>
                                                            <div class="slds-form-element__control">
                                                                <apex:selectList value="{!selectedFieldForLineItemProduct}" styleClass="slds-input" size="1">
                                                                	<apex:selectOption itemvalue="" itemLabel="--Use Default Product Name Field--"/>
                                                                    <apex:selectOptions value="{!fieldsForLineItemProduct}"/>    
                                                                </apex:selectList>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                        <div class="slds-form-element">
                                                            <label class="slds-form-element__label" >Description</label>
                                                            <div class="slds-form-element__control">
                                                                <apex:selectList value="{!selectedFieldForLineItemDescription}" styleClass="slds-input" size="1">
                                                                	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                    <apex:selectOptions value="{!textFieldsForLineItems}"/>    
                                                                </apex:selectList>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                        <div class="slds-form-element">
                                                            <label class="slds-form-element__label" >Quantity</label>
                                                            <div class="slds-form-element__control">
                                                                <apex:selectList value="{!selectedFieldForLineItemQuantity}" styleClass="slds-input" size="1">
                                                                	<apex:selectOption itemvalue="" itemLabel="--Use Default Quantity Field--"/>
                                                                    <apex:selectOptions value="{!NumberFieldsForLineItems}"/>    
                                                                </apex:selectList>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                        <div class="slds-form-element">
                                                            <label class="slds-form-element__label" >Rate</label>
                                                            <div class="slds-form-element__control">
                                                                <apex:selectList value="{!selectedFieldForLineItemRate}" styleClass="slds-input" size="1">
                                                                	<apex:selectOption itemvalue="" itemLabel="--Use Default Price Field--"/>
                                                                    <apex:selectOptions value="{!currencyFieldsForLineItems}"/>    
                                                                </apex:selectList>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                    <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium" style="display:{!IF(isServiceDateEnabled ,'','none')}">
                                                        <div class="slds-form-element">
                                                            <label class="slds-form-element__label" >Service Date</label>
                                                            <div class="slds-form-element__control">
                                                                <apex:selectList value="{!selectedFieldForLineItemServiceDate}" styleClass="slds-input" size="1">
																	<apex:selectOption itemvalue="" itemLabel="--Use Default Date Field--"/>
                                                                    <apex:selectOptions value="{!dateFieldsForLineItems}"/>    
                                                                </apex:selectList>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium" style="display:{!IF(isNonUSTaxModel,'','none')}">
                                                        <div class="slds-form-element">
                                                            <label class="slds-form-element__label" >Tax Code</label>
                                                            <div class="slds-form-element__control">
                                                                <apex:selectList value="{!selectedFieldForLineItemTaxCode}" styleClass="slds-input" size="1">
                                                                	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                    <apex:selectOptions value="{!fieldsForLineItemClassAndTax}"/>    
                                                                </apex:selectList>
                                                                <div style="font-size:11px ;color:grey;" class="slds-text-title slds-m-top--x-small">This is only available in Non-US QuickBooks Online Orgs </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium" style="display:{!IF(isClassTrackingPerTxnLineEnabled,'','none')}">
                                                        <div class="slds-form-element">
                                                            <label class="slds-form-element__label" >Class</label>
                                                            <div class="slds-form-element__control">
                                                                <apex:selectList value="{!selectedFieldForLineItemClass}" styleClass="slds-input" size="1">
                                                                	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                    <apex:selectOptions value="{!fieldsForLineItemClassAndTax}"/>    
                                                                </apex:selectList>
                                                                <div style="font-size:11px ;color:grey;" class="slds-text-title slds-m-top--x-small"> Class must be first enabled in QuickBooks Online for Line Items </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="slds-text-body--small slds-m-top--small"> 
                                                Is the field you are looking for missing? It might be a Lookup field. Breadwinner cannot easily access lookup fields, however, you can create a simple cross-object formula field on Opportunity product and use that field for mapping, the formula for that filed can be "Custom_Lookup__r.Name" (or StandardLookup.Name)
                                            </div> 

                                            </div>
                                        </apex:outputPanel>
                                        <!-- ------------------------ invoice line itm mapping end--------------------------------------------------------------------------- -->
                                        
                                        <!-- Invoice Line item from oppty fields -->
                                        <apex:outputPanel layout="block" rendered="{!planCode>=35}" >
                                            <div class="slds-section" id="optytoLineSection" >
                                                <h3 class="slds-section-title--divider slds-m-top--medium" style="padding: 0.19rem;">
                                                    <button class="slds-button slds-section__title-action"  type="button" onclick="showHideSectionConent('optytoLineSection','optytoLineSectionImage');" style="letter-spacing: .0625rem;text-transform: initial;">
                                                        <img id="optytoLineSectionImage" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/SectionClose.png')}" style="margin-bottom: 3px;margin-right: 4px;" />
                                                        <span style="color: #54698d;">Invoice line item from Opportunity fields</span></button>
                                                </h3>
                                                <div class="slds-section__content slds-m-top--small slds-m-horizontal--small">
                                                    
                                                    <div class="slds-text-body--small slds-m-top--small">
                                                        Invoice line item from Opportunity fields are populated from the Opportunity. Please select a field or a formula field below. This only affects invoices created from Opportunities.
                                                    </div>
                                                    <div class="slds-text-body--small slds-m-top--small" style="font-style: italic;">
                                                        Note: All mapped fields must be on the <a id="opptytoProductsOpptyFieldsLink" href="javascript:void(0);" target="_blank" style="color: #16325c;text-decoration: underline;">Opportunity</a>. If you wish to map data on an object other than the Opportunity, please create a formula field on the Opportunity to pull in the data.
                                                    </div>
                                                    <div class="slds-text-body--small slds-m-top--small" >
                                                        If you use this feature, only the Product/Service field is required, but Breadwinner strongly recommends you also specify the Quantity and Amount fields.
                                                    </div>
                                                    <div class="slds-grid slds-wrap">
                                                        <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Product/Service</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1Product}" styleClass="slds-input" size="1">
                                                                            <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOptions value="{!textFields}"/>    
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Description</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1Description}" styleClass="slds-input" size="1">
                                                                            <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOptions value="{!textFields}"/>    
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Quantity</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1Quantity}" styleClass="slds-input" size="1">
                                                                            <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOption itemvalue="DefaultTo1" itemLabel="--Default to 1--"/>
                                                                            <apex:selectOptions value="{!numberFields}"/>    
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Rate</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1Rate}" styleClass="slds-input" size="1">
                                                                            <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOptions value="{!currencyRateFields}"/>    
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Do you want this line to be the First or Last line on the Invoice?</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1Location}" styleClass="slds-input" size="1">
                                                                            <apex:selectOptions value="{!OpptyLineItem_LocationValues}"/>    
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <apex:outputPanel layout="block"  styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" rendered="{!planCode>=60}" >
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium" style="display:{!IF(isServiceDateEnabled,'','none')}">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Service Date</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1ServiceDate}" styleClass="slds-input" size="1">
                                                                            <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOptions value="{!dateFields}"/>    
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium" style="display:{!IF(isNonUSTaxModel,'','none')}">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Tax Code</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1TaxCode}" styleClass="slds-input" size="1">
                                                                            <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOptions value="{!textFields}"/>    
                                                                        </apex:selectList>
                                                                        <div style="font-size:11px ;color:grey;" class="slds-text-title slds-m-top--x-small">This is only available in Non-US QuickBooks Online Orgs </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12 slds-m-top--medium" style="display:{!IF(isClassTrackingPerTxnLineEnabled,'','none')}">
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Class</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedFieldForOpptyLineItem1Class}" styleClass="slds-input" size="1">
                                                                            <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOptions value="{!textFields}"/>    
                                                                        </apex:selectList>
                                                                        <div style="font-size:11px ;color:grey;" class="slds-text-title slds-m-top--x-small"> Class must be first enabled in QuickBooks Online for Line Items </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <div class="slds-text-body--small slds-m-top--small"> 
                                                            Is the field you are looking for missing? It might be a Lookup field. Breadwinner cannot easily access lookup fields, however, you can create a simple cross-object formula field on Opportunity and use that field for mapping, the formula for that filed can be "Custom_Lookup__r.Name" (or StandardLookup.Name)
                                                        </div> 
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </apex:outputPanel>
                                        <!-- Invoice Line item from oppty fields -->
                                        
                                        <apex:outputPanel layout="block" rendered="{!AND(OR(isInvoiceCustomField1Enabled, isInvoiceCustomField2Enabled, isInvoiceCustomField3Enabled), canBindOpportunity)}" >  
                                            <div class="slds-section" id="divsection" >
                                                <h3 class="slds-section-title--divider slds-m-top--medium" style="padding: 0.19rem;">
                                                    <button class="slds-button slds-section__title-action"  type="button" onclick="showHideSectionConent('divsection','divsectionImage');" style="letter-spacing: .0625rem;text-transform: initial;">
                                                        <img id="divsectionImage" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/SectionClose.png')}" style="margin-bottom: 3px;margin-right: 4px;" />
                                                        <span style="color: #54698d;">Invoice Mapping to Opportunity</span></button>
                                                </h3>
                                                <div class="slds-section__content slds-m-top--small slds-m-horizontal--small">
                                                    <apex:outputPanel layout="block" styleClass="infoM3 slds-m-top--x-small" html-role="alert" style="border-radius: 4px;" rendered="{!isMultiOrg}">
                                                        <h2>Currently, Breadwinner only supports passing Opportunity information to the Invoice for just one of your QuickBooks Online organizations, {!qboOrgName}. If you need to pass information to the your other QuickBooks Online orgs, please contact Breadwinner Support.</h2>
                                                    </apex:outputPanel> 
                                                    <div class="slds-text-title slds-m-top--x-small">Invoice Mapping is only used if your Invoices are created directly in QuickBooks Online, but not via Breadwinner, and you want those invoices matched back to a specific Opportunity. This is a common situation if your Finance Team creates the Invoices directly in QuickBooks Online, or an API / Third Party Integration, or a repeating Invoice needs subsequent Invoices matched to an Opportunity.
                                                        <br/><br/>  At the time Breadwinner first discover the Invoice (but not upon later edits) Breadwinner will try to match a QuickBooks Online Custom Field with an Opportunity Custom Field, as specified below.
                                                    </div>
                                                    <div class="slds-grid slds-wrap">
                                                        <apex:outputPanel styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                            <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Invoice Custom Field</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedCustomFieldForInvoiceMappingOpportunity}" styleClass="slds-input" size="1">
                                                                            <apex:selectOptions value="{!invoiceCustomFieldsOppMapping}"/>
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </apex:outputPanel>
                                                        </apex:outputPanel>
                                                        <apex:outputPanel layout="block" styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                            <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                <div class="slds-form-element">
                                                                    <label class="slds-form-element__label" >Opportunity Field</label>
                                                                    <div class="slds-form-element__control">
                                                                        <apex:selectList value="{!selectedOppFieldForInvoiceMappingOpportunity}" styleClass="slds-input" size="1">
                                                                        	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                            <apex:selectOptions value="{!oppFieldsInvoiceOppMapping}"/>
                                                                        </apex:selectList>
                                                                    </div>
                                                                </div>
                                                            </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </div>
                                                </div>
                                            </div>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </apex:outputPanel>
                        </div>
                        
                        <div id="tab-default-2" class="slds-m-horizontal--small {!IF(isMultiOrg,'slds-tabs--default__content slds-hide','slds-show')}" role="tabpanel" aria-labelledby="tab-default-2__item">
                            <apex:outputPanel id="SettingSectionPanel">
                                <apex:outputPanel layout="block"  id="SettingsSection">
                                    <apex:outputPanel layout="block" id="pbs">
                                        <apex:outputPanel layout="block" rendered="{!AND(initialized,isAllowedToChangeOptionalSettings)}">
                                            <!--Display Name and Logo URL-->
                                            <apex:outputPanel layout="block" rendered="{!isMultiOrg}">                                                          
                                                <h3 class="slds-section-title--divider slds-m-top--medium">Display Common Name instead of Legal Name (Optional)</h3>          
                                                <div class="slds-m-horizontal--small">
                                                    <div class="slds-text-body--small slds-m-top--small">
                                                        <p>You might have used your company&#39;s legal name in QuickBooks Online, but want it displayed to your staff as a different name.</p>
                                                        <p>Perhaps as the Trading Name, or perhaps without Ltd, or Pty, etc.</p>
                                                    </div>                
                                                    
                                                    <div class="slds-form-element slds-m-top--small">              
                                                        <label class="slds-form-element__label" >Display Name for QuickBooks Online Company </label>              
                                                        <div class="slds-form-element__control ">                                                      
                                                            <apex:inputField value="{!appC.breadwinner_qbo__Display_Name__c}" styleClass="slds-input slds-size--1-of-1 slds-medium-size--2-of-6 slds-large-size--3-of-12"/>         
                                                        </div>                
                                                    </div>   
                                                </div>       
                                                
                                                <!---Logo URL-->
                                                <h3 class="slds-section-title--divider slds-m-top--medium">Logo or Image associated with QuickBooks Online Company  (Optional)</h3>          
                                                <div class="slds-m-horizontal--small">
                                                    <div class="slds-text-body--small slds-m-top--small">
                                                        <p>To minimize staff confusion, you can show an image or logo next to the QuickBooks Online Org Name. You must host this image yourself (perhaps on your website), and it will be resized to 40 pixels high (for the sharpest image and fastest load times, resize it yourself to 40 px high). You can use jpg, png or gif files.</p>
                                                        <p>Please use the format https://mywebsite.com/myimage.jpg or similar. Breadwinner recommends https, though http works fine.</p>
                                                    </div>                
                                                    
                                                    <div class="slds-form-element slds-m-top--small">              
                                                        <label class="slds-form-element__label" >URL of Image</label>              
                                                        <div class="slds-form-element__control ">                                                      
                                                            <apex:inputField value="{!appC.breadwinner_qbo__Logo_URL__c}" styleClass="slds-input slds-size--1-of-1 slds-medium-size--2-of-6 slds-large-size--3-of-12"/>         
                                                        </div>                
                                                    </div>   
                                                </div>  
                                                
                                            </apex:outputPanel>                
                                            <!--Display Name and Logo URL End-->
                                            
                                            <div class="slds-m-top--small" id="duedateandothersettings" style="display:none">
                                                
                                                <h3 class="slds-section-title--divider">Default Invoice Creation Settings</h3>
                                                <div class="slds-m-horizontal--small slds-grid slds-wrap">
                                                    <div class="slds-m-top--small slds-size--1-of-1 slds-medium-size--6-of-6 slds-large-size--12-of-12">
                                                        <div class="slds-form-element ">
                                                            <label class="slds-form-element__label" >Invoice Default Due Date</label>
                                                            <div class="slds-form-element__control slds-grid slds-size--1-of-1 slds-medium-size--2-of-6 slds-large-size--3-of-12">
                                                                <apex:inputField value="{!appC.breadwinner_qbo__Default_Due_Date_Days_Number__c}" styleClass="slds-input slds-size--1-of-5" style="padding-left:0.3rem;padding-right:0.3rem;"  html-autofocus="true"/>

                                                                <apex:selectList size="1" value="{!appC.breadwinner_qbo__Default_Due_Date_Days_Option__c}" styleClass="slds-input slds-m-left--small slds-size--4-of-5">
                                                                    <apex:selectOptions value="{!defaultDueDaysOptions}"/>
                                                                </apex:selectList>
                                                                
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <h3 class="slds-section-title--divider slds-m-top--medium">Default QuickBooks Online Product/Service Settings</h3>   
                                                <div class="slds-m-horizontal--small slds-grid slds-wrap">
                                                    <div class="slds-m-top--small slds-size--1-of-1 slds-medium-size--6-of-6 slds-large-size--12-of-12">
                                                        <div class="slds-form-element ">
                                                            <label class="slds-form-element__label" style="margin-right:2px;">Default QuickBooks Online Accounting code (Revenue Code)</label>
                                                            <a href="javascript:void(0);" onmouseover="identifyfield(this,'Default Revenue Accounting Code will be set while Creating new Product from new Invoice Page.','65','16')" onmouseout="mouseoutclose();">
                                                                <img style="margin-bottom: 4px;height:15px;width:15px;" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/InfoLightning.png')}"/><span class="slds-assistive-text">Help</span>
                                                            </a>
                                                            <div class="slds-size--1-of-1 slds-medium-size--2-of-6 slds-large-size--3-of-12">
                                                                <apex:selectList size="1" value="{!appC.breadwinner_qbo__Default_QBO_Revenue_Accounting_Value__c}" styleClass="slds-input" id="accountCodeMapping" onchange="getSaccountCodeMappingName();">
                                                                    <apex:selectOptions value="{!QBOAccountList}"/>
                                                                </apex:selectList>
                                                                <apex:actionFunction name="sendtoController" reRender="">
                                                                    <apex:param name="name" value="" assignTo="{!appC.Default_QBO_Revenue_Accounting_Name__c}" />
                                                                </apex:actionFunction>
                                                            </div>
                                                        </div>  
                                                    </div>
                                                </div>
                                                <h3 class="slds-section-title--divider slds-m-top--medium" style="display:{!IF(areRecordTypesEnabled,'','none')}">Default Salesforce Account Creation Settings</h3>                                         
                                                <div class="slds-m-horizontal--small slds-grid slds-wrap" style="display:{!IF(areRecordTypesEnabled,'','none')}">
                                                    <div class="slds-m-top--small slds-size--1-of-1 slds-medium-size--6-of-6 slds-large-size--12-of-12">
                                                         <div class="slds-form-element ">
                                                            <label class="slds-form-element__label" style="margin-right:2px;">Breadwinner should create SF Accounts as Record Type</label>
                                                            <a href="javascript:void(0);" onmouseover="identifyfield(this,'If Breadwinner discovers a new QuickBooks Online Company and thus creates a new Salesforce Account based on this QuickBooks Online Company, Breadwinner can create that new SF Account as any one of your record types. Select a record type here, otherwise Breadwinner will use the Primary Record Type when creating a new SF Account.','154','16')" onmouseout="mouseoutclose();">
                                                                <img style="margin-bottom: 4px;height:15px;width:15px;" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/InfoLightning.png')}"/><span class="slds-assistive-text">Help</span>
                                                            </a>
                                                            <div class="slds-size--1-of-1 slds-medium-size--2-of-6 slds-large-size--3-of-12">
                                                                <apex:selectList size="1" value="{!appC.breadwinner_qbo__Default_Account_RecordType__c}" styleClass="slds-input">
                                                                    <apex:selectOptions value="{!accountRecordTypes}"/>
                                                                </apex:selectList>
                                                            </div>
                                                        </div>  
                                                    </div>
                                                </div>                                              
                                                <div class="slds-section" id="AdvsectiondivId" >
                                                    <h3 class="slds-section-title--divider slds-m-top--medium" style="padding: 0.19rem;">
                                                        <button class="slds-button slds-section__title-action"  type="button" onclick="showHideSectionConent('AdvsectiondivId','AdvsectiondivIdImage');" style="letter-spacing: .0625rem;text-transform: initial;">
                                                            <img id="AdvsectiondivIdImage" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/SectionClose.png')}" style="margin-bottom: 3px;margin-right: 4px;" />
                                                            <span style="color: #54698d;">Advanced Settings</span></button>
                                                    </h3>
                                                    <div class="slds-section__content slds-m-horizontal--small">
                                                        <div class="slds-section__title slds-m-top--medium">Liabilities</div>
                                                        <div class="slds-form-element slds-m-left--small slds-m-top--small">
                                                            <span class="slds-checkbox">
                                                                <label class="slds-checkbox__label" >
                                                                    <apex:inputCheckbox value="{!appC.breadwinner_qbo__Display_Expenses_and_Liabilities__c}"   onchange="refreshRevenueAccounts();" />
                                                                    <span class="slds-checkbox--faux"></span>
                                                                    <span class="slds-form-element__label slds-m-right--small">Display Liabilities and Expenses when Creating Products as Revenue Accounts</span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="slds-section__title slds-m-top--medium">Import Inactive Customers and their Invoices</div>
                                                        <div class="slds-form-element slds-m-left--small slds-m-top--small">
                                                            <span class="slds-checkbox">
                                                                <label class="slds-checkbox__label" >
                                                                    <apex:inputCheckbox value="{!appC.breadwinner_qbo__Import_Deleted_Customers__c}" />
                                                                    <span class="slds-checkbox--faux"></span>
                                                                    <span class="slds-form-element__label slds-m-right--small">By default, Breadwinner does not import Deleted (Inactive) Customers and their Invoices. You can allow importing them by checking this checkbox. Make sure that you &#34;Restart Background QuickBooks Online Companies&#34; Sync from Troubleshooting section.</span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        

                                                        
                                                        <!-- <div>
                                                            <label class="slds-checkbox slds-m-top--medium">
                                                                <span class="slds-form-element__label">
                                                                    Sync Sales Receipts with QuickBooks Online
                                                                </span>
                                                                <apex:inputCheckbox value="{!appC.Sync_Sales_Receipts__c}"  /> 
                                                                <span class="slds-checkbox--faux"></span>
                                                            </label>
                                                        </div> -->
                                                    </div>
                                                </div>  
                                            
                                            </div>                                          
                                            <apex:outputPanel layout="block" style="display: {!IF(AND(IsAllowedToMapInvoiceFields,planCode>=35),'','none')}">
                                                <apex:outputPanel layout="block" styleClass="slds-m-top--medium" >
                                                    <div  style="display: {!IF(isMultiOrg,'','none')}">
                                                        <h3 class="slds-section-title--divider">Invoice Fields
                                                            <apex:outputPanel styleClass="slds-m-left--small slds-form-element__icon" rendered="{!trialOrg}">
                                                                <a href="javascript:void(0);" onmouseover="identifyfield(this,'These features are only accessible at Breadwinner Professional and up, and are also shown during your free trial. If you subscribe at the Basic level, this page will no longer be accessible.','100','12')" onmouseout="mouseoutclose();">
                                                                    <img style="margin-left: 5px;margin-bottom: 4px;height:15px;width:15px;" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/InfoLightning.png')}"/><span class="slds-assistive-text">Help</span>
                                                                </a>
                                                            </apex:outputPanel>
                                                        </h3>
                                                        <div class="slds-text-body--small slds-m-top--small slds-m-horizontal--small">
                                                            Invoice Fields are populated from the Opportunity object. Please select a field or a formula field below. This only affects invoices created from Opportunities.
                                                        </div>
                                                        <div class="slds-grid slds-wrap slds-m-horizontal--small">
                                                            <div Class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" id="TermsSection" style="display:none">
                                                                <div Class="{!IF(isMultiORg,'slds-m-top--small slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12','')}">
                                                                    <div class="slds-form-element">
                                                                        <label class="slds-form-element__label" >Invoice Terms</label>
                                                                        <div class="slds-form-element__control">
                                                                            <apex:selectList value="{!selectedFieldForInvoiceTerms}" styleClass="slds-input" size="1">
                                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                <apex:selectOptions value="{!textFields}"/>    
                                                                            </apex:selectList>
                                                                        </div>
                                                                    </div>
                                                                    
                                                                </div>
                                                            </div>
                                                            <div Class="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" id="TransactionSection" style="display:none">
                                                                <div class="{!IF(isMultiORg,'slds-m-top--small slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12','')}" >
                                                                    <div class="slds-form-element">
                                                                        <label class="slds-form-element__label" >Invoice Custom Transaction Number</label>
                                                                        <div class="slds-form-element__control">
                                                                            <apex:selectList value="{!InvoiceCustomTranscationNumber}" styleClass="slds-input" size="1">
                                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                <apex:selectOptions value="{!TextAndNumberFields}"/>    
                                                                            </apex:selectList>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </apex:outputPanel>
                                                <div id="shipppingandCustomeFields" style="display:none">
                                                    <!----Shipping Address-->
                                                    <apex:outputPanel layout="block" rendered="{!isShippingAddressEnabled}">
                                                        <div class="slds-section" id="shippingsectiondivId" >
                                                            <h3 class="slds-section-title--divider slds-m-top--medium" style="padding: 0.19rem;">
                                                                <button class="slds-button slds-section__title-action"  type="button" onclick="showHideSectionConent('shippingsectiondivId','shippingsectiondivIdImage');" style="letter-spacing: .0625rem;text-transform: initial;">
                                                                    <img id="shippingsectiondivIdImage" src="{!URLFOR($Resource.Breadwinner_QBO, 'Breadwinner_QBO/Images/SectionClose.png')}" style="margin-bottom: 3px;margin-right: 4px;" />
                                                                    <span style="color: #54698d;">Shipping Fields</span></button>
                                                            </h3>
                                                            <div class="slds-section__content slds-m-horizontal--small">
                                                                
                                                                <div class="slds-text-title  slds-m-top--small">The following Invoice shipping fields are enabled in QuickBooks Online, at Company Settings > Sales > Sales Form Content.</div>
                                                                <div class="slds-grid slds-wrap">
                                                                    <apex:outputPanel styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                        <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Shipping Date</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFieldForInvoiceShippingDate}" styleClass="slds-input" size="1">
                                                                                    	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!dateFields}"/>    
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Tracking Number</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFieldForInvoiceTrackingNum}" styleClass="slds-input" size="1">
                                                                                    	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!textFields}"/>    
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                        <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Ship via</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFIeldForInvoiceShippingVia}" styleClass="slds-input" size="1">
                                                                                    	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!textFields}"/>    
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <hr/>
                                                                <div class="slds-grid slds-wrap">
                                                                    <apex:outputPanel styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                        <apex:outputPanel layout="block" styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Shipping Address</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFieldForInvoiceShippingAddress}" styleClass="slds-input" size="1">
                                                                                    	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!textFields}"/>   
                                                                                        
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Shipping City</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFieldForInvoiceShippingCity}" styleClass="slds-input" size="1">
                                                                                    	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!textFields}"/>    
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Shipping State</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFieldForInvoiceShippingState}" styleClass="slds-input" size="1">
                                                                                        <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!textFields}"/>    
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                       
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >
                                                                        <apex:outputPanel layout="block" styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Shipping Country</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFieldForInvoiceShippingCountry}" styleClass="slds-input" size="1">
                                                                                        <apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!textFields}"/>    
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12">
                                                                            <div class="slds-form-element">
                                                                                <label class="slds-form-element__label" >Invoice Shipping Postal Code</label>
                                                                                <div class="slds-form-element__control">
                                                                                    <apex:selectList value="{!selectedFieldForInvoiceShippingPostalCode}" styleClass="slds-input" size="1">
                                                                                    	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                        <apex:selectOptions value="{!textFields}"/>    
                                                                                    </apex:selectList>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>  
                                                            </div>
                                                            
                                                        </div>
                                                    </apex:outputPanel> 
                                                    <!----Shipping Address end-->  
                                                    <!-- --------------------------CUstom Fields and Location field mapping              ------------------------- -->
                                                    <apex:outputPanel layout="block" rendered="{!OR(isInvoiceCustomField1Enabled, isInvoiceCustomField2Enabled, isInvoiceCustomField3Enabled)}">
                                                        <h3 class="slds-section-title--divider slds-m-top--medium">
                                                            Custom Fields
                                                            
                                                        </h3>
                                                        <div class="slds-text-title slds-m-top--small slds-m-horizontal--small">The following Invoice custom fields are enabled in QuickBooks Online, at Company Settings > Sales > Sales Form Content.</div>
                                                        <div class="slds-grid slds-wrap slds-m-horizontal--small">
                                                            <apex:outputPanel styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" rendered="{!OR(isInvoiceCustomField1Enabled,isInvoiceCustomField2Enabled)}">
                                                                <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" rendered="{!isInvoiceCustomField1Enabled}">
                                                                    <div class="slds-form-element">
                                                                        <label class="slds-form-element__label" >{!invoiceCustomField1_Label}&nbsp;(Custom Field 1)</label>
                                                                        <div class="slds-form-element__control">
                                                                            <apex:selectList value="{!selectedFieldForInvoiceCustomField1}" styleClass="slds-input" size="1">
                                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                <apex:selectOptions value="{!fieldsForInvoiceCustomFields}"/>    
                                                                            </apex:selectList>
                                                                        </div>
                                                                    </div>
                                                                </apex:outputPanel>
                                                                <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" rendered="{!isInvoiceCustomField2Enabled}">
                                                                    <div class="slds-form-element">
                                                                        <label class="slds-form-element__label" >{!invoiceCustomField2_Label}&nbsp;(Custom Field 2)</label>
                                                                        <div class="slds-form-element__control">
                                                                            <apex:selectList value="{!selectedFieldForInvoiceCustomField2}" styleClass="slds-input" size="1">
                                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                <apex:selectOptions value="{!fieldsForInvoiceCustomFields}"/>    
                                                                            </apex:selectList>
                                                                        </div>
                                                                    </div>
                                                                </apex:outputPanel>
                                                            </apex:outputPanel>
                                                            <apex:outputPanel layout="block" styleClass="slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" >                                    
                                                                <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" rendered="{!isInvoiceCustomField3Enabled}">
                                                                    <div class="slds-form-element">
                                                                        <label class="slds-form-element__label" >{!invoiceCustomField3_Label}&nbsp;(Custom Field 3)</label>                                                                    
                                                                        <div class="slds-form-element__control">
                                                                            <apex:selectList value="{!selectedFieldForInvoiceCustomField3}" size="1" styleClass="slds-input">
                                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                <apex:selectOptions value="{!fieldsForInvoiceCustomFields}"/>  </apex:selectList>                                                   
                                                                        </div>                                                                  
                                                                    </div>
                                                                </apex:outputPanel>
                                                                <apex:outputPanel layout="block" styleClass="slds-m-top--medium slds-size--1-of-1 slds-medium-size--3-of-6 slds-large-size--6-of-12" rendered="{!isInvoiceLocationFieldEnabled}">
                                                                    <div class="slds-form-element">
                                                                        <label class="slds-form-element__label" >{!invoiceLocationField_Label}&nbsp;(QuickBooks Online Location Tracking)</label>                                                                    
                                                                        <div class="slds-form-element__control">
                                                                            <apex:selectList value="{!selectedFieldForInvoiceLocationField}" size="1" styleClass="slds-input">
                                                                            	<apex:selectOption itemvalue="" itemLabel="--None--"/>
                                                                                <apex:selectOptions value="{!fieldsForInvoiceCustomFields}"/>    
                                                                            </apex:selectList>
                                                                        </div>                                                                  
                                                                    </div>
                                                                </apex:outputPanel>
                                                            </apex:outputPanel>
                                                        </div>
                                                    </apex:outputPanel>
                                                </div>                                    
                                                <!-- --------------------------Custom Fields and Location field mappingEnd   ------------------------- -->                                      
                                            </apex:outputPanel>

                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </apex:outputPanel>                             
                        </div>
                    </div>
                    <div class="slds-m-top--large slds-m-bottom--large" style="text-align:center;" >
                        <apex:commandButton value="Save" action="{!SaveChanges}" status="assign-action-status" styleClass="slds-button slds-button--brand" reRender="Oathissuemsg,Pgmsg,globalsettingspanel,SettingsSection,SettingSectionPanel,renderscript" oncomplete="HideStyleSheet(); message(); setContent();scrolltoTop();addLinkDynamically();" rendered="{!AND(initialized,isAllowedToChangeOptionalSettings)}"/>
                    </div> 
                </div>                
            </apex:form>
        </body>
    </html>
</apex:page>